<!-- producto.ejs -->
<%- include('partials/head', { tituloDePagina: tituloDePagina }) -%>

	<body>


		<h1>Modificar el Item</h1>

		<form class="crear" action="/modificar?_metodo=PUT" method="POST">

			<div>
				<h4>Nombre</h4>
				<input type="text" id="nombre" name="nombre" value="<%= registro.nombre %>">

				<h4>Caracteristicas</h4>
				<input type="text" id="caracteristicas" name="caracteristicas" value="<%= registro.caracteristicas %>">

				<h4></h4>
				
				<h4>Imagen Actual</h4>
				<img class="actual" src="/img/webp/<%= registro.imagen %>" alt="<%= registro.nombre %>">
				<input type="hidden" value="<%= registro.imagen %>">
	
			</div>

			<div>
				<h4>Precio</h4>
				<input type="number" id="precio" name="precio" step="0.01" min="0.01" placeholder="0.00"
					value="<%= registro.precio %>">

				<h4>Gramaje</h4>
				<input type="text" id="gramaje" name="gramaje" value="<%= registro.nombre %>">

				<h4>Variedad</h4>
				<select name="variedad_id" id="variedad_id" value="<%= registro.variedad_id %>">
					<% variedades.forEach(variedad => { %>
						<% if (variedad.id == registro.variedad_id) { %>
							<option value="<%= variedad.id %>" selected><%= variedad.nombre %></option>
						<% } else { %>
							<option value="<%= variedad.id %>"><%= variedad.nombre %></option>
					<% } }); %>
				</select>

				<h4>Reemplazar Imagen</h4>
				<input type="file" id="imagen" name="imagen" value="<%= registro.imagen %>">

				<!-- se crea este hidden, porque no esta llegando la imagen actual al input
				     si no elige ninguna foto y ya tenia, queda vacio el campo en la base -->
				<input type="hidden" name="imagenActual" value="<%= registro.imagen %>">
				
				<input type="hidden" name="idMod" value="<%= registro.id %>">
				<input class="btn3" type="submit" value="Actualizar">
			</div>
			
		</form>
		<a onClick="history.go(-1)" class="modificar"><svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#0d0d0d" d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM231 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L376 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-182.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L119 273c-9.4-9.4-9.4-24.6 0-33.9L231 127z"/></svg></a>
		<br>
		<br>
		<%- include('partials/footer') -%> 